(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[749],{3749:function(e,t,r){"use strict";r.d(t,{oR:function(){return l}});var n=r(7294),a=r(8313);function l(e){a.is.store(e)||s("expect useStore argument to be a store");let t=e.getState(),r=n.useReducer((e=>e+1),0)[1],l=n.useRef({store:e,value:t,pending:0});return o((()=>{let t=e.updates.watch((e=>{let t=l.current;t.pending||(t.value=e,t.pending=1,r(),t.pending=0)})),n=e.getState(),a=l.current;return a.store===e&&a.value!==n&&(a.value=n,a.pending=1,r(),a.pending=0),a.store=e,t}),[e]),t}let o="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,s=e=>{throw Error(e)}},8313:function(e,t,r){"use strict";function n(e,t,r,n){(N(e)||R(e))&&("family"in e||"graphite"in e)||x(`${t}: expect ${r} to be a unit (store, event or effect)${n}`)}function a(e,t,r){if(Array.isArray(e))for(let a=0;a<e.length;a++)n(e[a],t,`${a} item of ${r}`,"");else n(e,t,r," or array of units")}function l({node:e=[],from:t,source:r,parent:n=t||r,to:a,target:l,child:o=a||l,scope:s={},meta:i={},family:f={type:"regular"},regional:u}={}){let c=le(n),p=le(f.links),d=le(f.owners),m=[],h={};for(let y=0;y<e.length;y++){let t=e[y];t&&(m.push(t),oe(t,h))}let g={id:M(),seq:m,next:le(o),meta:i,scope:s,family:{type:f.type||"crosslink",links:p,owners:d},reg:h};for(let y=0;y<p.length;y++)J(p[y]).push(g);for(let y=0;y<d.length;y++)K(d[y]).push(g);for(let y=0;y<c.length;y++)c[y].next.push(g);return u&&re&&te(X(re),[g]),g}function o(e,t,r){let n=ke,a=null,l=ge;if(e.target&&(t=e.params,r=e.defer,n="page"in e?e.page:n,e.stack&&(a=e.stack),l=ee(e)||l,e=e.target),l&&ge&&l!==ge&&(ge=null),Array.isArray(e))for(let d=0;d<e.length;d++)pe("pure",n,H(e[d]),a,t[d],l);else pe("pure",n,H(e),a,t,l);if(r&&!ye)return;let o,s,i,f,u,c,p={isRoot:ye,currentPage:ke,forkPage:ge,isWatch:be};ye=0;e:for(;f=ce();){let{idx:e,stack:t,type:r}=f;i=t.node,ke=u=t.page,ge=ee(t),c=(u||i).reg;let n={fail:0,scope:i.scope};o=s=0;for(let a=e;a<i.seq.length&&!o;a++){let l=i.seq[a],f=l.data;switch(l.type){case"barrier":{let n=f.barrierID;u&&(n=`${u.fullID}_${n}`);let l=f.priority;if(a!==e||r!==l){he.has(n)||(he.add(n),de(a,t,l,n));continue e}he.delete(n);break}case"mov":{let e;switch(f.from){case"stack":e=X(t);break;case"a":case"b":e=t[f.from];break;case"value":e=f.store;break;case d:c[f.store.id]||(t.page=u=we(u,f.store.id),c=u?u.reg:i.reg),e=W(c[f.store.id])}switch(f.to){case"stack":t.value=e;break;case"a":case"b":t[f.to]=e;break;case d:Se(u,i,f.target.id).current=e}break}case"check":switch(f.type){case"defined":s=void 0===X(t);break;case"changed":s=X(t)===W(Se(u,i,f.store.id))}break;case"filter":s=!xe(n,f,t);break;case"run":if(a!==e||"effect"!==r){de(a,t,"effect");continue e}case"compute":be="watch"===i.meta.op,t.value=xe(n,f,t),be=p.isWatch}o=n.fail||s}if(!o)for(let a=0;a<i.next.length;a++)pe("child",u,i.next[a],t,X(t),ee(t))}ye=p.isRoot,ke=p.currentPage,ge=ee(p)}function s(e,t){let r,n,a,l=e;return t?(a=t.compositeName,0===e.length?(r=a.path,n=a.fullName):(r=a.path.concat([e]),n=0===a.fullName.length?e:a.fullName+"/"+e)):(r=0===e.length?[]:[e],n=e),{shortName:l,fullName:n,path:r}}function i(e,t){for(let r in e)t(e[r],r)}function f(e,t){let r=(e,...t)=>ke?((e,t,r,n)=>{let a=ke,l=null;if(t)for(l=ke;l&&l.template!==t;)l=Z(l);ve(l);let o=e.create(r,n);return ve(a),o})(r,n,e,t):r.create(e,t);r.graphite=l({meta:Le("event",r,t,e),regional:1}),r.create=e=>(o(ge?ge.find(r):r,e),e),r.watch=C(Ie,r),r.map=e=>{let t,n;N(e)&&(t=e,n=e.name,e=e.fn);let a=f(Re(r,n),t);return Oe(r,a,h,e),a},r.filter=e=>Be(r,"filter",e.fn?e:e.fn,[T({fn:G})]),r.filterMap=e=>Be(r,"filterMap",e,[I({fn:G}),F.defined()]),r.prepend=e=>{let t=f("* \u2192 "+r.shortName,{parent:Z(r)}),n=ne();return n&&H(t).seq.push(n.upward),Oe(t,r,"prepend",e),De(r,t),t};let n=ne();return r}function u(e,t){function r(e,t){p.off(e),Y(p).set(e,Ee(Ge(e,p,"on",1,t,y)))}let n=L(e),s=L(e),i=We("updates"),f=ne();n.after=[{type:"copy",to:s}],f&&f.plain.push(n,s);let c=n.id,p={subscribers:new Map,updates:i,defaultState:e,stateRef:n,getState(){let e,t=n;if(ke){let t=ke;for(;t&&!t.reg[c];)t=Z(t);t&&(e=t)}return!e&&ge&&ge.reg[c]&&(e=ge),e&&(t=e.reg[c]),W(t)},setState(e){let t;ge&&(t=ge.nodeMap[H(p).id]),t||(t=p),o({target:t,params:e,defer:1})},reset(...e){for(let t of e)p.on(t,(()=>p.defaultState));return p},on(e,t){if(a(e,".on","first argument"),Array.isArray(e))for(let n of e)r(n,t);else r(e,t);return p},off(e){let t=Y(p).get(e);return t&&(t(),Y(p).delete(e)),p},map(e,t){let r,a,l;N(e)&&(r=e,a=e.name,t=e.firstState,e=e.fn);let o=p.getState(),s=ne();s?l=null:void 0!==o&&(l=e(o,t));let i=u(l,{name:Re(p,a),config:r,strict:0}),f=Ge(p,i,h,0,e);return Q(i).before=[{type:h,fn:e,from:n}],s&&(qe(s.plain,n)||qe(f.seq,s.loader)||f.seq.unshift(s.loader)),i},watch(e,t){if(!t||!g(e)){let t=Ie(p,e),r=ne();return r?r.watch.push({of:n,fn:e}):e(p.getState()),t}return R(t)||x("second argument should be a function"),e.watch((e=>t(p.getState(),e)))}},m=Le(d,p,t),y=p.defaultConfig.updateFilter;return p.graphite=l({scope:{state:n},node:[F.defined(),F.changed({store:s}),y&&E({store:s,to:"a"}),y&&T({fn:(e,t,{a:r})=>y(e,r)}),D({store:n}),D({store:s})],child:i,meta:m,regional:1}),je&&void 0===e&&x("current state can't be undefined, use null instead"),te(p,[i]),p}function c(...e){let[[t,r],n]=$e(e),a={};return i(r,((e,r)=>{let l=a[r]=f(r,{parent:Z(t),config:n});t.on(l,e),De(t,l)})),a}r.d(t,{LC:function(){return c},MT:function(){return u},is:function(){return S}});let p="undefined"!=typeof Symbol&&Symbol.observable||"@@observable",d="store",m="effect",h="map",g=e=>(R(e)||N(e))&&"kind"in e;const y=e=>t=>g(t)&&t.kind===e;let b=y(d),k=y("event"),v=y(m),w=y("domain");var S={__proto__:null,unit:g,store:b,event:k,effect:v,domain:w};let x=e=>{throw Error(e)},N=e=>"object"==typeof e&&null!==e,R=e=>"function"==typeof e,A=e=>{N(e)||R(e)||x("expect first argument be an object")};const $=()=>{let e=0;return()=>(++e).toString(36)};let q=$(),z=$(),M=$(),C=(e,t)=>e.bind(null,t),P=(e,t,r)=>e.bind(null,t,r);const _=(e,t,r)=>({id:z(),type:e,data:r,hasRef:t});let E=({from:e=d,store:t,target:r,to:n=(r?d:"stack")})=>_("mov",e===d,{from:e,store:t,to:n,target:r}),F={defined:()=>_("check",0,{type:"defined"}),changed:({store:e})=>_("check",1,{type:"changed",store:e})},I=P(_,"compute",0),T=P(_,"filter",0),j=P(_,"run",0),D=({store:e})=>E({from:"stack",target:e});let L=e=>({id:z(),current:e}),W=({current:e})=>e,O=(e,{fn:t},{a:r})=>t(e,r),B=(e,{fn:t},{a:r})=>t(r,e),G=(e,{fn:t})=>t(e),H=e=>e.graphite||e,J=e=>e.family.owners,K=e=>e.family.links,Q=e=>e.stateRef,U=e=>e.config,V=e=>e.\u0254,X=e=>e.value,Y=e=>e.subscribers,Z=e=>e.parent,ee=e=>e.forkPage,te=(e,t)=>{let r=H(e);for(let n=0;n<t.length;n++){let e=H(t[n]);"domain"!==r.family.type&&(e.family.type="crosslink"),J(e).push(r),K(r).push(e)}},re=null,ne=()=>re&&re.template,ae=e=>(e&&re&&re.sidRoot&&(e=`${re.sidRoot}\u0254${e}`),e);const le=(e=[])=>{let t=[];if(Array.isArray(e))for(let r=0;r<e.length;r++)Array.isArray(e[r])?t.push(...e[r]):t.push(e[r]);else t.push(e);return t.map(H)};let oe=({hasRef:e,type:t,data:r},n)=>{let a;e&&(a=r.store,n[a.id]=a),"mov"===t&&r.to===d&&(a=r.target,n[a.id]=a)},se=null;const ie=(e,t)=>{if(!e)return t;if(!t)return e;let r,n=e.v.type===t.v.type;return(n&&e.v.id>t.v.id||!n&&"sampler"===e.v.type)&&(r=e,e=t,t=r),r=ie(e.r,t),e.r=e.l,e.l=r,e},fe=[];let ue=0;for(;ue<5;)fe.push({first:null,last:null,size:0}),ue+=1;const ce=()=>{for(let e=0;e<5;e++){let t=fe[e];if(t.size>0){if(2===e||3===e){t.size-=1;let e=se.v;return se=ie(se.l,se.r),e}1===t.size&&(t.last=null);let r=t.first;return t.first=r.r,t.size-=1,r.v}}},pe=(e,t,r,n,a,l)=>de(0,{a:null,b:null,node:r,parent:n,value:a,page:t,forkPage:l},e),de=(e,t,r,n=0)=>{let a=me(r),l=fe[a],o={v:{idx:e,stack:t,type:r,id:n},l:0,r:0};2===a||3===a?se=ie(se,o):(0===l.size?l.first=o:l.last.r=o,l.last=o),l.size+=1},me=e=>{switch(e){case"child":return 0;case"pure":return 1;case"barrier":return 2;case"sampler":return 3;case m:return 4;default:return-1}},he=new Set;let ge,ye=1,be=0,ke=null,ve=e=>{ke=e};const we=(e,t)=>{if(e){for(;e&&!e.reg[t];)e=Z(e);if(e)return e}return null},Se=(e,t,r)=>(we(e,r)||t).reg[r],xe=(e,{fn:t},r)=>{try{return t(X(r),e.scope,r)}catch(t){console.error(t),e.fail=1}};let Ne=(e,t)=>""+e.shortName+t,Re=(e,t)=>null==t?Ne(e," \u2192 *"):t,Ae=(e,t)=>{A(e),V(e)&&t(U(e),V(e))},$e=e=>{let t;return Ae(e[0],((r,n)=>{t=r,e=n})),[e,t]},qe=(e,t)=>e.includes(t),ze=(e,t)=>{let r=e.indexOf(t);-1!==r&&e.splice(r,1)};const Me=(e,t)=>{ze(e.next,t),ze(J(e),t),ze(K(e),t)},Ce=(e,t,r)=>{let n;e.next.length=0,e.seq.length=0,e.scope=null;let a=K(e);for(;n=a.pop();)Me(n,e),(t||r&&!e.meta.sample||"crosslink"===n.family.type)&&Ce(n,t,"on"!==n.meta.op&&r);for(a=J(e);n=a.pop();)Me(n,e),r&&"crosslink"===n.family.type&&Ce(n,t,"on"!==n.meta.op&&r)},Pe=e=>e.clear();let _e=(e,{deep:t}={})=>{let r=0;if(e.ownerSet&&e.ownerSet.delete(e),b(e))Pe(Y(e));else if(w(e)){r=1;let t=e.history;Pe(t.events),Pe(t.effects),Pe(t.stores),Pe(t.domains)}Ce(H(e),!!t,r)},Ee=e=>{let t=P(_e,e,void 0);return t.unsubscribe=t,t},Fe=(e,t,{node:r,scope:n,meta:a})=>l({node:r,parent:e,child:t,scope:n,meta:a,family:{owners:[e,t],links:t},regional:1}),Ie=(e,t)=>{if(R(t)||x(".watch argument should be a function"),ge){let t=ge.nodeMap[H(e).id];t&&(e=t)}return Ee(l({scope:{fn:t},node:[j({fn:G})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))};const Te=(e,t)=>(N(e)&&(Te(U(e),t),null!=e.name&&(N(e.name)?Te(e.name,t):R(e.name)?t.handler=e.name:t.name=e.name),e.loc&&(t.loc=e.loc),(e.sid||null===e.sid)&&(t.sid=e.sid),e.handler&&(t.handler=e.handler),e.updateFilter&&(t.updateFilter=e.updateFilter),Z(e)&&(t.parent=Z(e)),"strict"in e&&(t.strict=e.strict),e.named&&(t.named=e.named),Te(V(e),t)),t);let je,De=(e,t,r="event")=>{Z(e)&&Z(e).hooks[r](t)},Le=(e,t,r,n)=>{let a=Te({name:n,config:r},{}),l="domain"===e,o=q(),{parent:i=null,sid:f=null,strict:u=1,named:c=null}=a,d=c||a.name||(l?"":o),m=s(d,i),h={unit:t.kind=e,name:t.shortName=d,sid:t.sid=ae(f),named:c,unitId:t.id=o};if(t.parent=i,t.compositeName=m,t.defaultConfig=a,t.thru=e=>e(t),t.getType=()=>m.fullName,!l){t.subscribe=e=>(A(e),t.watch(R(e)?e:t=>{e.next&&e.next(t)})),t[p]=()=>t;let e=ne();e&&(h.nativeTemplate=e)}return je=u,h},We=e=>f({named:e});const Oe=(e,t,r,n)=>Fe(e,t,{scope:{fn:n},node:[I({fn:G})],meta:{op:r}}),Be=(e,t,r,n)=>{let a;N(r)&&(a=r,r=r.fn);let l=f(Ne(e," \u2192? *"),a);return Fe(e,l,{scope:{fn:r},node:n,meta:{op:t}}),l},Ge=(e,t,r,n,a,l)=>{let o=Q(t),s=[E({store:o,to:"a"}),I({fn:n?B:O}),F.defined(),F.changed({store:o}),l&&T({fn:(e,t,{a:r})=>l(e,r)}),D({store:o})],i=ne();if(i&&(s.unshift(i.loader),s.push(i.upward),b(e))){let t=Q(e);qe(i.plain,t)||(qe(i.closure,t)||i.closure.push(t),o.before||(o.before=[]),o.before.push({type:"closure",of:t}))}return Fe(e,t,{scope:{fn:a},node:s,meta:{op:r}})};l({node:[j({fn({fn:e,value:t}){e(t)}})],meta:{op:"fx",fx:"sidechain"}})}}]);